<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Gold and Rabbit&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="having fun coding">
<meta property="og:type" content="website">
<meta property="og:title" content="Gold and Rabbit&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Gold and Rabbit&#39;s Blog">
<meta property="og:description" content="having fun coding">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Gold and Rabbit">
<meta property="article:tag" content="Recommending System">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Gold and Rabbit&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Gold and Rabbit&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Item-Based CF" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/14/Item-Based%20CF/" class="article-date">
  <time datetime="2020-09-14T05:00:14.798Z" itemprop="datePublished">2020-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/14/Item-Based%20CF/">Item-Based CF</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      	<!-- Table of Contents -->
		
        <h2 id="Graph-Distance-Metrics"><a href="#Graph-Distance-Metrics" class="headerlink" title="Graph Distance Metrics"></a>Graph Distance Metrics</h2><ul>
<li>度量距离的方式<div style="text-align: center;">
<img alt="" src="https://i.loli.net/2020/09/14/C2k7zgqBLOYeH9a.png" style="display: inline-block;"/>
</div>



</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/14/Item-Based%20CF/" data-id="ckf9pzol80002jmdl86f120sz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Data Analysis Tutorial 数据分析指南" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/14/Data%20Analysis%20Tutorial%20%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%8C%87%E5%8D%97/" class="article-date">
  <time datetime="2020-09-14T04:34:05.066Z" itemprop="datePublished">2020-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/14/Data%20Analysis%20Tutorial%20%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%8C%87%E5%8D%97/">Data Analysis Tutorial 数据分析指南</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      	<!-- Table of Contents -->
		
        <h2 id="Why-data-matters"><a href="#Why-data-matters" class="headerlink" title="Why data matters?"></a>Why data matters?</h2><ul>
<li>显著提高工作效率。数据处理是算法工程师日常工作中时间占比最高的部分，故是工作提效最关键部分之一。</li>
<li>严重影响业务决策。错误的数据分析结论甚至会带来致命影响；有效的数据分析结论带来业务的增益的决策，长期的增益分析对于把握业务方向帮助显著。</li>
<li>需长期思考锻炼提高。实际的业务数据纷繁复杂、变动频率高、业务强相关，故需要具备一定的广度。例如电商成交数据和足球场上胜负关系数据是两个完全不同的过程，二者不互通。</li>
<li><strong>SQL is all you need</strong>。到2019年SQL仍然是最通用、最标准、最普适的数据处理语言，故本文以SQL为例进行展开。</li>
</ul>
<hr>
<h2 id="Core-Idea"><a href="#Core-Idea" class="headerlink" title="Core Idea"></a>Core Idea</h2><ul>
<li>结论导向：永远不做没有目的的数据分析，必须<strong>提前想清楚通过数据要验证什么事实</strong>；具体做法，先假设你预期结论成立，心里想象数据画出来图是什么样子，然后统计下来对比画出来的图和前期假设图是否相似，若相似那么很快就能验证一些效果；若不相似，再考虑当前统计层次是否有问题，能否做更细的拆解或者能否精简一下统计层面；</li>
<li>逻辑自恰：数据是流体，总是呈现起伏不定的规律，我们既要抓住一般规律，同时也要尽可能完美解释细节变化产生原因，即<strong>在给出业务结论时一定要有自洽的逻辑</strong>，对于图中出现的一切现象都要给出非常明确的解释（哪怕解释是片面的、缺乏依据的），为什么上涨，为什么下跌，为什么突然有峰值；</li>
</ul>
<h2 id="Check-amp-Recheck"><a href="#Check-amp-Recheck" class="headerlink" title="Check &amp; Recheck"></a>Check &amp; Recheck</h2><center>Scale >= Empty >= Repeatment >= Outlier</center>

<ul>
<li>Scale: 关注数据规模（量级），不同量级数据切入方式不同（好比菜刀用来切菜/水果刀用于切水果), 海量数据要考虑简化处理<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">COALESCE(expr1, expr2, ...)</span><br><span class="line">CASE value</span><br><span class="line">    WHEN value1 THEN result1</span><br><span class="line">    WHEN value2 THEN result2</span><br><span class="line">    ...</span><br><span class="line">    ELSE result</span><br><span class="line"><span class="keyword">END</span> </span><br><span class="line"><span class="comment">-- 日期处理: datetime类型和字符串的灵活转化; datetime类型时间滚动;</span></span><br><span class="line">ds=TO_CHAR(<span class="keyword">DATEADD</span>(<span class="keyword">TO_DATE</span>(<span class="string">&#x27;$&#123;bizdate&#125;&#x27;</span>, <span class="string">&#x27;yyyymmdd&#x27;</span>), <span class="number">-1</span>, <span class="string">&#x27;dd&#x27;</span>), <span class="string">&#x27;yyyymmdd&#x27;</span>)</span><br><span class="line">SPLIT_PART(<span class="keyword">string</span> <span class="keyword">str</span>, <span class="keyword">string</span> separator, <span class="built_in">bigint</span> <span class="keyword">start</span>[, <span class="built_in">bigint</span> <span class="keyword">end</span>])</span><br><span class="line"><span class="keyword">SUBSTR</span>(<span class="keyword">string</span> <span class="keyword">str</span>, <span class="built_in">bigint</span> start_position[, <span class="built_in">bigint</span> <span class="keyword">length</span>])</span><br><span class="line"><span class="keyword">CONCAT</span>(<span class="keyword">string</span> a, <span class="keyword">string</span> b...)</span><br><span class="line">WM_CONCAT(<span class="keyword">string</span> separator, <span class="keyword">string</span> <span class="keyword">str</span>)</span><br><span class="line"><span class="keyword">INSTR</span>(<span class="keyword">string</span> str1, <span class="keyword">string</span> str2[, <span class="built_in">bigint</span> start_position[, <span class="built_in">bigint</span> nth_appearance]])</span><br><span class="line">ROW_NUMBER() <span class="keyword">OVER</span>(<span class="keyword">partition</span> <span class="keyword">by</span> col1[, col2…] <span class="keyword">order</span> <span class="keyword">by</span> col1 [<span class="keyword">asc</span>|<span class="keyword">desc</span>][, col2[<span class="keyword">asc</span>|<span class="keyword">desc</span>]…])</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="采用增量统计减少暴力扫描"><a href="#采用增量统计减少暴力扫描" class="headerlink" title="采用增量统计减少暴力扫描"></a>采用增量统计减少暴力扫描</h4><p>例如，如下代码统计19年6月到10月的所有场景点击率；</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    scene</span><br><span class="line">    , <span class="keyword">SUM</span>(pv)/<span class="keyword">SUM</span>(click) <span class="keyword">AS</span> ctr</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        scene</span><br><span class="line">        , pv</span><br><span class="line">        , click</span><br><span class="line">    <span class="keyword">FROM</span> table_name</span><br><span class="line">    <span class="keyword">WHERE</span> ds&lt;=<span class="number">20191001</span></span><br><span class="line">        <span class="keyword">AND</span> ds&gt;=<span class="number">20191101</span></span><br><span class="line">        <span class="keyword">AND</span> someflag1=<span class="number">1</span></span><br><span class="line">) tmp0</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> scene</span><br></pre></td></tr></table></figure>
<p>乍看上述代码执行无明显问题，但是计算资源紧张时子查询取日志量级太大会跑不完，Job大概率被无情kill；<br>优化方法：将子查询写入一个表，天级增量中间表，代码如下所示</p>
<p>采用CTE模块化统计逻辑</p>
<p>Common Table Expression, CTE</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 场景人群基础特征</span></span><br><span class="line"><span class="keyword">WITH</span> s_basic <span class="keyword">AS</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> </span><br><span class="line">        s_id</span><br><span class="line">        , mele_pay_ratio</span><br><span class="line">        , female_pay_ratio</span><br><span class="line">        , purchase_pay_ratio</span><br><span class="line">        , zhuanke_pay_ratio</span><br><span class="line">        , chugaozhong_pay_ratio</span><br><span class="line">        , phd_pay_ratio</span><br><span class="line">        , bachelor_pay_ratio</span><br><span class="line">        , master_pay_ratio</span><br><span class="line">        , f1t17_pay_ratio</span><br><span class="line">        , f18t24_pay_ratio</span><br><span class="line">        , f25t29_pay_ratio</span><br><span class="line">    <span class="keyword">FROM</span> table_name_a</span><br><span class="line">    <span class="keyword">WHERE</span> ds=$&#123;bizdate&#125;</span><br><span class="line">),</span><br><span class="line"><span class="comment">-- 场景点击成交uv特征</span></span><br><span class="line">s_clk_pay_uv_info <span class="keyword">AS</span> (</span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        s_id</span><br><span class="line">        , clk_uv_1d</span><br><span class="line">        , clk_uv_3d</span><br><span class="line">        , clk_uv_7d</span><br><span class="line">        , pay_uv_1d</span><br><span class="line">        , pay_uv_3d</span><br><span class="line">        , pay_uv_7d</span><br><span class="line">    <span class="keyword">FROM</span> table_name_b</span><br><span class="line">    <span class="keyword">WHERE</span> ds=$&#123;bizdate&#125;</span><br><span class="line">),</span><br><span class="line"><span class="comment">-- 场景人群属性特征</span></span><br><span class="line">s_city_info <span class="keyword">AS</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> </span><br><span class="line">        s_id</span><br><span class="line">        , city_l1_ratio</span><br><span class="line">        , city_l2_ratio</span><br><span class="line">        , city_l3_ratio</span><br><span class="line">        , vip_ratio,</span><br><span class="line">        , normal_ratio</span><br><span class="line">    <span class="keyword">FROM</span> table_name_c</span><br><span class="line">    <span class="keyword">WHERE</span> ds=$&#123;bizdate&#125;</span><br><span class="line">)</span><br><span class="line"><span class="keyword">INSERT</span> OVERWRITE <span class="keyword">TABLE</span> table_name_d <span class="keyword">PARTITION</span> (ds=$&#123;bizdate&#125;)</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    s_basic.*</span><br><span class="line">    , s_clk_pay_uv_info.<span class="string">`(s_id)?+.+`</span></span><br><span class="line">    , s_city_info.<span class="string">`(s_id)?+.+`</span></span><br><span class="line">    , s_avg_price_info.<span class="string">`(s_id|ds)?+.+`</span></span><br><span class="line"><span class="keyword">FROM</span> s_basic</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> s_clk_pay_uv_info</span><br><span class="line"><span class="keyword">ON</span> s_basic.s_id=s_clk_pay_uv_info.s_id</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> s_city_info</span><br><span class="line"><span class="keyword">ON</span> s_basic.s_id=s_city_info.s_id</span><br></pre></td></tr></table></figure>

<h4 id="Always-Visualising"><a href="#Always-Visualising" class="headerlink" title="Always Visualising"></a>Always Visualising</h4><p>Why Visualising? </p>
<ul>
<li>人对数字敏感度极低，远远比不上人对图像敏感度；</li>
<li>在日常分析、汇报、答辩时”一图胜千言”；</li>
<li>可视化方法众多，勿过多关注于形式（工作不是发论文，最快速度出结论最重要），复用脚本跑数据。<br>武器库</li>
</ul>
<p>直方图：刻画分布，例如考察拼多多、淘宝、京东不同类目商品的成交分布，京东3C数码最多、淘宝服饰最多、拼多多食品最多；</p>
<p>折线图：关注指标趋势变化，较优做法是增加辅助文字进行隐含条件解释，如下图所示对比算法圈成交和商业圈成交额的变化，辅助说明他们之间的交集规模；实际应用中灵活就曲线背后的含义或者引申条件加以说明；</p>
<p>想要更精确关注数据的分布：拟合概率密度，如图所示少量样本即可拟合出接近于高斯分布这一事实；</p>
<p>热图：刻画多变量关系；</p>
<p>特征工程可视化<br>在数据挖掘竞赛中，为拟合测试集真实的label分布，特征工程原则是”穷举且互斥“；在线上工程中由于性能要求等因素，特征工程原则是”基础且针对“；采用Xmind思维导图进行特征工程组织是更为条理的方式；</p>
<p>地理信息：QGIS is all you need；使用方法：导入csv文件=&gt;叠加图层=&gt;修改颜色</p>
<p>Optimization<br>大数据性能优化在日常产出的必备能力；</p>
<p>MapReduce原理</p>
<p>数据处理过程分成2个阶段：Map（映射）阶段和Reduce（规约）阶段。</p>
<p>在正式执行Map前，需要将输入数据进行”分片”。分片：将输入数据切分为大小相等的数据块，每一块作为单个Map Worker的输入被处理，以便于多个Map Worker同时工作。<br>分片完毕后，多个Map Worker就可以同时工作。每个Map Worker在读入各自的数据后，进行计算处理，最终输出给Reduce。Map Worker在输出数据时，需要为每一条输出数据指定一个Key。这个Key值决定了这条数据将会被发送给哪一个Reduce Worker。Key值和Reduce Worker是多对一的关系，具有相同Key的数据会被发送给同一个Reduce Worker，单个Reduce Worker有可能会接收到多个Key值的数据。<br>在进入Reduce阶段之前，MapReduce框架会对数据按照Key值排序，使得具有相同Key的数据彼此相邻。如果用户指定了”合并操作”(Combiner)，框架会调用Combiner，将具有相同Key的数据进行聚合。Combiner的逻辑可以由用户自定义实现。与经典的MapReduce框架协议不同，在ODPS中，Combiner的输入、输出的参数必须与Reduce保持一致。这部分的处理通常也叫做”洗牌”(Shuffle)。<br>Reduce阶段。相同的Key的数据会到达同一个Reduce Worker。同一个Reduce Worker会接收来自多个Map Worker的数据。每个Reduce Worker会对Key相同的多个数据进行Reduce操作。最后一个Key的多条数据经过Reduce的作用后，将变成了一个值。</p>
<h2 id="Join长尾优化"><a href="#Join长尾优化" class="headerlink" title="Join长尾优化"></a>Join长尾优化</h2><p>问题表现：Join任务上SQL运行时间超长，某个woker上的任务进度一直在99%卡着不动；Join时间过长有很多原因，本质上是数据中参与Join的Key存在存在一定的分布特点（分布不均衡或者长尾）；<br>Mapjoin: 将Join操作提前到Map端执行，避免因为分发Key不均匀导致数据倾斜。但是Mapjoin的使用有限制，必须是Join中的从表比较小才可用。所谓从表，即Left Outer Join中的右表，或者Right Outer Join中的左表。Mapjoin的使用方法非常简单，在代码中select后加上 /*+ mapjoin(a) */ 即可，其中b代表小表(或者是子查询)的别名。如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    <span class="comment">/*+MAPJOIN(b)*/</span></span><br><span class="line">    a.c2</span><br><span class="line">    , b.c3</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span>  </span><br><span class="line">        c1</span><br><span class="line">        , c2</span><br><span class="line">    <span class="keyword">FROM</span> t1</span><br><span class="line">) a</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span>  </span><br><span class="line">        c1</span><br><span class="line">        , c3</span><br><span class="line">    <span class="keyword">FROM</span> t2</span><br><span class="line">) b</span><br><span class="line"><span class="keyword">ON</span> a.c1=b.c1;</span><br></pre></td></tr></table></figure>
<p>调小mapper.split.size<br>作用：设定一个Map的最大数据输入量，可以通过设置这个变量达到对Map端输入的控制，单位M，默认256M，在[1, Integer.MAX_VALUE]之间调整。set odps.sql.mapper.split.size=256</p>
<p>场景：当每个Map Instance处理的数据量比较大，时间比较长，并且没有发生长尾时，可以适当调小这个参数。如果有发生长尾，则结合odps.sql.mapper.merge.limit.size这个参数设置每个Map的输入数量。</p>
<p>Reduce端长尾优化</p>
<p>问题表现：Reduce端任务99%进度卡着不动，由Multi COUNT(DISTINCT xx字段) 引起；</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    scene</span><br><span class="line">    , <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> pv)       <span class="keyword">AS</span> pv  </span><br><span class="line">    , <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> click_id) <span class="keyword">AS</span> click</span><br><span class="line"><span class="keyword">FROM</span> table_name_a</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> scene</span><br><span class="line">解决方法：将<span class="keyword">Group</span> <span class="keyword">BY</span>的<span class="keyword">Key</span>分散开（增加一个层次的<span class="keyword">Key</span>），以下代码增加了场景的小时统计，最后再累加统计；</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    scene</span><br><span class="line">    , <span class="keyword">SUM</span>(pv)       <span class="keyword">AS</span> pv  </span><br><span class="line">    , <span class="keyword">SUM</span>(click_id) <span class="keyword">AS</span> click</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        scene</span><br><span class="line">        , hh</span><br><span class="line">        , <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> pv)       <span class="keyword">AS</span> pv  </span><br><span class="line">        , <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> click_id) <span class="keyword">AS</span> click</span><br><span class="line">    <span class="keyword">FROM</span> table_name_a</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> scene, hh</span><br><span class="line">) tmp0</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> scene;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/14/Data%20Analysis%20Tutorial%20%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%8C%87%E5%8D%97/" data-id="ckf9pzol50001jmdlbpxb5q38" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-狼人杀, 如何致胜" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/14/%E7%8B%BC%E4%BA%BA%E6%9D%80,%20%E5%A6%82%E4%BD%95%E8%87%B4%E8%83%9C/" class="article-date">
  <time datetime="2020-09-14T04:34:05.066Z" itemprop="datePublished">2020-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/14/%E7%8B%BC%E4%BA%BA%E6%9D%80,%20%E5%A6%82%E4%BD%95%E8%87%B4%E8%83%9C/">狼人杀, 如何致胜?</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      	<!-- Table of Contents -->
		
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li>到底是一个重点是靠盘逻辑的游戏？还是一个缺少逻辑、更多的是表演/发言/说谎的游戏？逻辑在获胜上占到多少比重？</li>
<li>表演是这个游戏里面重要的部分。如何正确的从自己的角色表演，达到获胜的目的。</li>
<li>作为游戏，均存在玩物丧志属性，总结游戏玩法也是符合让这个游戏对于我的边际效益最小化的目的，鼓励投入到新领域中去。</li>
<li>本文重点是9人国标局。3民3狼1预1巫1猎。12人局存在玩家质量参差不齐的局面。</li>
</ul>
<h2 id="获胜之道"><a href="#获胜之道" class="headerlink" title="获胜之道"></a>获胜之道</h2><ul>
<li>总结一下玩到现在如何获得胜利的方法，理论不一定严谨，整体目的是避免一些错误的发言和节奏，梳理一些关键性的要点，在整体上最大化胜率。重点解析预言家和狼人这两个角色。</li>
</ul>
<h5 id="预言家"><a href="#预言家" class="headerlink" title="预言家"></a>预言家</h5><ul>
<li>预言家是9人局胜率最低的角色，这是由于规则决定的（大概率双神起跳）。</li>
<li>作为预言家必须非常坦然接受你死的很快或者你死的很冤的事实。</li>
<li>发言的时候必须快速清晰的报出来查验，以免还没有说出来任何查验只透露自己身份然后被狼人自爆。预言家在遗言的时候。一定要多说。即使是非常冤死。但是真预言家的求生欲一定不能过低。</li>
</ul>
<h5 id="狼人"><a href="#狼人" class="headerlink" title="狼人"></a>狼人</h5><ul>
<li>狼人的胜利关键在于“顺势而为”，三只狼人需要各自独立地根据场上的形势因时制宜的选择悍跳/划水/引导/站边/跟票/冲票。</li>
<li>同时三狼要有一定程度的分工，整体态势太趋同（都怂或者都悍跳）风险的。</li>
</ul>
<h2 id="案例复盘"><a href="#案例复盘" class="headerlink" title="案例复盘"></a>案例复盘</h2><h4 id="失败的一局复盘"><a href="#失败的一局复盘" class="headerlink" title="失败的一局复盘"></a>失败的一局复盘</h4><div style="text-align: center;">
<img alt="" src="https://i.loli.net/2020/09/14/QYTr83RcIsd4qWh.jpg" style="display: inline-block;" width="200"/>
</div>


<ul>
<li>图上这局是我玩的比较失败的一局。结果：作为好人阵营（猎人）我们输的非常彻底，被一只悍跳狼完全带了节奏，狼人预言家身份坐实，民整体没有视角做得出的选择也都是错误的，神职女巫和猎人完全齐齐的走向了错误的做法。</li>
</ul>
<p>这局的特殊在于 </p>
<ol>
<li>一局下来好人之间几乎没有形成提供有效的通讯（统计来看9人国标局好人输概率大于50%，但是好人们几乎完全没有相互之间的信息认可，这种是绝对不算多的案例）。</li>
<li>悍跳狼第一天就被投死，其余怂狼从头到尾也没有也没有太多行动。但是好人掉进圈套里完全出不来，后续决策是一连串错误，而且是走向那种温水煮青蛙的错误节奏。</li>
<li>整局游戏来看，好人绝对不是一定输，是肯定机会逆转的，但是整体上我认为好人如果想赢非常艰难，故做一下复盘。</li>
</ol>
<h4 id="重点历程"><a href="#重点历程" class="headerlink" title="重点历程"></a>重点历程</h4><ol start="0">
<li><p>狼人刀3号女巫，3女巫自救。9预言家8金水。</p>
</li>
<li><p>第一天9号第一个发言，说自己预言家给8号的民发了金水，发言过程中没有明显语气或者逻辑上的问题。然后说由于7、8、9位置学，轻踩一下7号。接着顺次12345发言均没有有效信息，其中女巫跳出来身份说明是自救的。<br>8号是归票位，给8发出去金水，然后8又没有身份，我当时认为信服力不一定。<br>但是8不是神职，如果9是狼人发到8民身上，可能性也是存在的，发言上没有明显问题，当时我没有完全不信或者不信。</p>
</li>
<li><p>然后6号发言，给7号发了查杀。<br>从位置上来看，9预言家8号金水则7号位置有些尴尬。<br>6给7查杀，当时我是不太信的，然后7号是民，但7的角度而言，6和9对7都有一定攻击性。但6是查杀，他从自身身份出发只能从发言打死6。</p>
</li>
<li><p>第一天投票：我上票给了7号，6整体发言语气和逻辑都还好（6查验的是后位置的7有合理性，感觉9的力度不太好说，其实我这里操作有一定的赌博性，我是猎人从容错的角度出发可以这么投）。但是结果4，7，8，9投6，结果6出局。<br>这里狼人有个破绽，2和5选择了弃票。但当时在69发言都没有明显破绽的情况下，我对这个弃票没有太怀疑，思考的重点还是6/9谁是真预言家上。</p>
</li>
<li><p>6号发表遗言：<br>6发言整体比较激动，语气没问题像真预言家，用了4张加时卡，逻辑上看整体发言就表达一个他的逻辑：9预8金，则7是位置及其尴尬的一张牌。如果6是一只狼人，为什么不隐藏自己的身份，大概率把7打出去呢。为什么一定要站出来把7打死，铁铁的要打死这张7呢。<br>这里无非两种情况（当时我没有把这两种情况盘的非常清楚）：</p>
<ol>
<li>6是真预言家，验出来7是狼人，然后从到尾踩死这个7。 </li>
<li>6是狼人，这个狼人选择很冒险却收益很小的一步，冒着自己被投出去的风险杀死7这个民。他的风险在于大家可能不信他是真预言家（事实上第一轮投票大家真没相信）。因为9首位发言给归票位金水预言家面还是有一些的。<br>然后这里1我、3巫、还有4民这三个人无一例外心路历程都是上述第1种，相信了6是真预言家。当时怎么看觉得呢这个6非要踩死这个7，从他的狼人视角来看真的收益好小。</li>
</ol>
</li>
<li><p>第二天晚上9真预查验的是1猎（就是我）是好人，女巫因为是认定6真预言家，所以必然是要开毒，选择毒7。狼人杀了3女巫。<br>然后第二天我是最后发言的归票位。然后第二天白天发言2号没什么信息，3女巫被杀，4民5狼发言如下：<br>4民说了自己觉得信了6真预言家，理由就是感觉上一局6狼的话收益太小。且现在9还活着。表示想上票给9。<br>5狼发言表示和4的逻辑一样，同理觉得6狼的话收益太小。同想上票9。这时候我的心路历程和他俩一样一样的。<br>9真预言家发言，说查验了我是好人。但是9没有怎么盘6的问题。我没有信他的金水。 我觉得9的验人这个力度从9是好人说没问题，因为上一局我给他上了一票，是正确的验人选择。但是反过来从9狼人说也是存在可能性的，拉拢一个好人进来。另外我觉得2如果是真预言家在2天没死的情况下又2天验出来都是好人，内心当时确实存疑。其实从复盘看，他的验人选择真的就是单纯的真预言家好人的视角的做法没什么多想的，但是当时我和其他好人4、8真的没有认下来他的真预言家身份。<br>8民对于9第一天给他的金水不敢接。且他认为狼人第二天没杀9他心存疑惑。8表示要投票给9。<br>1猎人我，我逻辑和4和5一样也走在相信6的道路上。一方面是信了6，另一方面9的发言似乎没怎么针对过6号。这个我心存疑惑。然后我就balabala一直分析6如果是狼人第一天收益太小的事实，希望大家上票给9。</p>
</li>
<li><p>结果：大家上票给9。9出局，9没有太深入的盘逻辑。</p>
</li>
<li><p>第三天夜晚，狼人选择了杀8号。场上剩下四个人：1猎2狼4民5狼。双狼控场游戏结束。</p>
</li>
</ol>
<h4 id="要点总结"><a href="#要点总结" class="headerlink" title="要点总结"></a>要点总结</h4><ol>
<li><p>狼怎么玩的：<br>6狼（胜利方mvp）给7踩死的查杀。这种其实是根据位置学的反逻辑。用冒着自己的危险踩死7的视角，尝试自己的死换来的是强有力的预言家，表面看坐实的程度不低。<br>2号怂狼没有透出任何信息。<br>5狼略微引导了一下6是预言家的逻辑，但是1猎3巫4民确实是想到一块了（我当时确实从6悍跳预言家收益晓得角度认了6预言家，且在我之前发言的4民也是想到了且发言的），并不是因为跟了5的逻辑。</p>
</li>
<li><p>好人怎么玩的：<br>1猎，3巫，4民：其中这三个都是认为6作为狼人可能的收益很小的角度上，认定6可能是真预言家。后面女巫顺势开毒。其他均给9上票。<br>8民，第一天金水没有接也合理。因为6狼发言没有太大问题，9预言家的金水给8也不一定能坐实9。</p>
</li>
<li><p>这一局的独特性，为什么我总觉得这局好人难赢，为什么说这一局不容易太逆转。</p>
<ol>
<li>首先女巫自救没有银水。少验一个人。</li>
<li>预言家是首置位发言，给8民一个金水。8民是金水正好也是归票位的金水。在8是民的情况下。金水可接可不接。预言家可认可不认。（我觉得这里是在赌概率）。且第二天白天预言家这个发言我觉得有不足。</li>
<li>7号民牌，开不了视角。只能反打6，9号一开始根据位置学轻踩7，能说的大致就那么多。</li>
<li>2和5第一天的弃票是狼人一个重要的破绽，回过头来想想第一天好人正常逻辑大概率是不会弃票，肯定是6和7的局。弃票则说明真的狼面很大。但是为什么这个看起来暴露的弃票行为没有获得理论上足够的重视呢？我理解因为6最后遗言这一手。基本上把所有的思路都引入在真预言家身上=&gt;所有好人的当务之急，或者急需抿身份的思路都是【谁是真预言家】这个问题。如果真是6预9狼。9是要马上要投出去的牌。或者要干掉这个被6验出来的7号或者从位置学上被尴尬的7号。总之好人视角来看，7/9两张牌都有争议。无论是7/9出1狼或者7和9狼踩狼，【排7/9的身份或者狼坑】整体执行优先级都高于对于【好人对弃票的反馈】。</li>
</ol>
</li>
</ol>
<h4 id="为什么这局难以逆转"><a href="#为什么这局难以逆转" class="headerlink" title="为什么这局难以逆转"></a>为什么这局难以逆转</h4><p>如果发生以下条件，那么6号预言家难坐实，局势也不会这么发展。</p>
<ol>
<li>第一天狼人没有刀女巫。换来一个银水。</li>
<li>7号8号两个里面存在一个神。真实情况是7、8两位置连民，都整体缺少视角，7被毒冤死，另8缺少足够信息。</li>
<li>第一天9号真预言家不是第一个发言。且给的不是归票位验人。</li>
<li>真预言家在2天内至少验出来一匹狼。且最好第二天验出来狼。1/2/4/5的身份从头到尾巴除了2/5第一天弃票这个信息。基本上发言没有透露太多信息或者破绽。好人从头到位都有点缺乏信息。</li>
</ol>
<h4 id="这局如果好人想赢，怎么赢："><a href="#这局如果好人想赢，怎么赢：" class="headerlink" title="这局如果好人想赢，怎么赢："></a>这局如果好人想赢，怎么赢：</h4><ol>
<li><p>真预言家9，作为场上唯一有视野的人：</p>
<ol>
<li>努力去向全场好人去仔仔细细盘6号这匹狼的狼人意图。语态上始终坚持狠狠的打死6这只狼不动摇。（我认为这个不太容易让好人相信，但是是必要要尝试去做的不能不这么做。）</li>
<li>努力推进打平衡局的玩法。暂时保住7号。表示自己可以扛出，将7当做反向金水。一定建议让女巫不要毒7，哪怕毒自己，打一个平衡局，自己扛出。走1预1狼平衡局，真预言家出局后续走向纯盘逻辑的局。</li>
</ol>
</li>
<li><p>第二天的金水我接住。认同9号的验人逻辑。就是因为我第一天给他上票他验了我。结果是金水。就是这么回事没什么好说的。然后我转过来思维从剩余的人里面出。</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/14/%E7%8B%BC%E4%BA%BA%E6%9D%80,%20%E5%A6%82%E4%BD%95%E8%87%B4%E8%83%9C/" data-id="ckf9pzol80003jmdl2bfsele3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2019互联网公司实习生面试总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/14/2019%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" class="article-date">
  <time datetime="2020-09-14T04:34:05.066Z" itemprop="datePublished">2020-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/14/2019%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/">2019互联网公司实习生面试总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      	<!-- Table of Contents -->
		
        <hr>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li>面试是一次<strong>梳理知识体系</strong>的机会；</li>
<li>面试是一次提升表达能力，<strong>锻炼推销自己的能力</strong>的机会；</li>
<li>面试是了解工业界、了解市场需求的绝好机会，面试官至少是一线工程师，大多数还是带团队的大佬，能体会到他们更care什么，<strong>将市场需求和自身能力对齐</strong>；</li>
</ul>
<hr>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><hr>
<h3 id="作业帮"><a href="#作业帮" class="headerlink" title="作业帮"></a>作业帮</h3><ul>
<li>持续时间：一面40min</li>
</ul>
<h5 id="问题总结"><a href="#问题总结" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>讲一下京东比赛的项目。你的模型为什么用了xgb?不用别的模型?</li>
<li>[手写代码]二叉树层序遍历</li>
<li>[手写代码]1到M+1这么多个数, 中间缺了一个数，如何最快的找到缺少的数字.</li>
<li>[手写代码]一副扑克，包含大小王，随机抽五张，返回这五张是否是依次连续的，大小王可以替代任意一张扑克.</li>
<li>[手写代码]给一个非常大的文件, 内存放不下，用你熟悉的语言读取它的最后10行内容。</li>
<li>xgb的特征重要性怎么给出的？</li>
</ol>
<h5 id="经验总结"><a href="#经验总结" class="headerlink" title="经验总结"></a>经验总结</h5><p>1.写代码不要着急下手，一定要思考几秒钟(不管是很简单还是难) 如果感觉太简单还是要想想坑(注意的点)在哪？需要考虑的特殊情况是啥, 多嘴先问一句要输出什么还是只返回一个数组？<br>2.面试官说话声音太小，多确认几次要做什么？<br>3.写代码字体不要写的太大。太大很容易乱。给人一种思路不清楚的感觉。</p>
<hr>
<h2 id="链家"><a href="#链家" class="headerlink" title="链家"></a>链家</h2><ul>
<li>岗位：算法实习生(策略方向)</li>
<li>持续时间：总共3面+hr面, 持续到下午2:10面完，中间有15min吃完饭。</li>
</ul>
<h5 id="问题总结-1"><a href="#问题总结-1" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>决策树分裂规则有哪些？相比信息增益，信息增益比的优势在哪里？</li>
<li>learning-to-rank了解吗？</li>
<li>[手写代码]输出一个十进制数的二进制表达1的个数？如果是负数怎么办？如果是浮点数怎么办？</li>
<li>二分查找找不到了怎么返回？</li>
<li>[手写代码]现在有一个字符串数组，每个字符串由[a-j]组成, 分别代表[0-9]这10个数字，返回一个0-9的映射使得这几个字符串代表的数字之和最大。</li>
<li>linux微内核了解吗？</li>
<li>svm的原理？写出支持向量到分离超平面之间的距离公式。核函数是什么？有哪些？你用过哪些？</li>
<li>[手写代码]一个数组中第k大的数字，你能想到最好的时间复杂度是多少？</li>
<li>gbdt的原理？</li>
<li>c++中指针和引用有什么区别？</li>
<li>操作系统内存管理的方式？</li>
<li>pca的数学原理</li>
<li>SQL中where和having语句的区别？</li>
<li>SQL有哪几种连接的方式？给了一个例子，让写出来left join的结果</li>
<li>讲蚂蚁金服定位比赛？多分类和二分类的方案如何抉择？各有哪些优势？</li>
<li>机器学习无所不能?机器学习是吹出来的？</li>
<li>xgb一般调哪几个参数？怎么调？</li>
</ol>
<h5 id="经验总结-1"><a href="#经验总结-1" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>面试官说数据分析和挖掘里面最重要的是理解特征和思考背后的含义。其次才是数据质量和数据清洗、再是模型和调参。机器学习在合适的场景才能发挥自身的作用。这句话可以和下一个面试官聊。</li>
<li>实习时间必须说[6个月以上]。能全职实习。对大公司平台没要求。对你们公司的业务特别特别有兴趣。</li>
<li>遇到不太清楚的，满脸微笑的先问问面试官能不能提示一下?^_^</li>
<li>讲项目嘴巴快一点效果更好，前因后果往下滔滔不绝坐等面试官打断。打断以后回答问题时刻意放慢节奏，慢慢说为什么这么做或者XX原理是什么。</li>
<li>链家面试官比较温和，面试官风格各异，前两面的比较谦和不停引导一个问题逐渐深入。第三免面试官语速很快思维特别清晰。跟着面试官思路比较重要。</li>
<li>hr面也不要大意, 也得小心回答。技术面试表现好也不见的是好事, 她会怕你不来。hr如果问题你还有什么问题？问薪资加班意义不大。<br>目前感觉比较合适的是</li>
</ol>
<ul>
<li>咱们公司对于实习生培养方案是怎样的？</li>
<li>咱们公司对于转正是如何考评的？实习生是否由优先转正的机会。</li>
<li>咱们公司是否会有定期的专家讲座或者培训提升自己的能力。</li>
</ul>
<hr>
<h2 id="字节跳动"><a href="#字节跳动" class="headerlink" title="字节跳动"></a>字节跳动</h2><ul>
<li>岗位：算法实习生 (商业化 DATA)</li>
<li>持续时间：总共3技术面, 持续到下午1:36面完，中间有15min吃完饭; 第2天hr电话面</li>
</ul>
<ol>
<li>看到你的简历是保研？学习秘诀是什么？</li>
<li>你本科做过比较厉害的事情/令你兴奋的事情是什么？</li>
<li>估计目前头条广告一天的收入。我估计1亿，hr说差不多，是1.2亿。</li>
</ol>
<h5 id="问题总结-2"><a href="#问题总结-2" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>[手写代码]任意一种排序(本能写了快排，面试官说大家写的基本都是冒泡)</li>
<li>[手写代码]实现LRUcache, 实现LFUcache</li>
<li>xgb为什么叫xgb？xgb的原理？</li>
<li>介绍一下lr，lr为何用sigmoid？sigmoid改一下加一个系数或者加一个缩放行不行？为什么行？行为什么没有原始sigmoid好？</li>
<li>c++ splice()函数的原理</li>
<li>tfidf了解过吗？idf为什么用log？</li>
<li>word2vec了解过吗？原理是什么？训练为什么快？</li>
<li>SVM如何实现非线性的？核函数有哪些？核函数有什么问题？高斯核函数有什么问题？</li>
<li>[手写代码]快排如何优化？如果存在大量重复元素，快排如何优化？</li>
<li>xgb和gbdt的区别？xgb如何分裂？</li>
<li>各种激活函数的比较，一般用哪个？relu优势在哪</li>
<li>stacking的原理？</li>
<li>你比赛和第一名的差距在哪里？</li>
<li>你比赛里面突出的工作？</li>
<li>AC自动机原理？时间复杂度？</li>
<li>依存句法分析？</li>
</ol>
<h5 id="经验总结-2"><a href="#经验总结-2" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>核函数了解不够深入</li>
<li>word2vec了解的不够深入</li>
<li>快排优化考虑不够全面</li>
<li>面试官：以spice为例，了解原理才能进行优化</li>
<li>整体原理答的还可以，但有以上硬伤(虽然项目里面没有写svm和word2vec)</li>
</ol>
<hr>
<h2 id="腾讯"><a href="#腾讯" class="headerlink" title="腾讯"></a>腾讯</h2><ul>
<li>岗位：算法实习生（WXG事业群 微信看一看）</li>
<li>持续时间：总共3技术面，面试官迟到20min分钟，12点多一面结束，下午2:30开始, 持续到下午3:10面完，</li>
</ul>
<h5 id="问题总结-3"><a href="#问题总结-3" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>[手写代码]最长上升子序列</li>
<li>[手写代码]链表排序（面试官想听到链表快排, 我说的插入排序，其实归并写起来最简单）</li>
<li>[手写代码]二叉树中序非递归</li>
<li>xgb并行化是指什么？怎么实现的？</li>
<li>gbdt推导一下？从损失函数到优化变量</li>
<li>卡方是如何定义的？</li>
<li>比赛和前几名差距在哪？</li>
<li>lr和gbdt谁更容易过拟合？</li>
<li>FFM了解吗？PNN了解吗？</li>
<li>聊一下地磁定位项目？(我没写这个项目但面试官问了实验室研究方向) 和wifi定位的关系？如何融合？如何实现地磁指纹库检索？</li>
<li>各种介绍项目。(极少反馈做的好还是不好)</li>
</ol>
<h5 id="经验总结-3"><a href="#经验总结-3" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>腾讯面试官感觉没有明显的好坏反馈。各种嗯嗯嗯。可能是项目不够亮眼。</li>
<li>gbdt从损失函数推导答的还可以更熟练一些。</li>
</ol>
<hr>
<h2 id="滴滴"><a href="#滴滴" class="headerlink" title="滴滴"></a>滴滴</h2><ul>
<li>岗位：算法实习生 (地图算法)</li>
<li>持续时间：总共2面技术面</li>
</ul>
<h5 id="问题总结-4"><a href="#问题总结-4" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>[手写代码]生成全排列，我写了一个动态插入的方法，面试官一直想听递归方法，一直说我还是没讲清楚。</li>
<li>[手写代码]如何计算一个大的指数，其实可能是考快速指数幂，我写了一个前n项的泰勒展开，也算写对了。</li>
<li>lgb直方图是什么？</li>
<li>bagging和boosting区别？我感觉说的很清楚，但面试官一直感觉不满意</li>
<li>kdtree是怎么生成的？</li>
<li>条件随机场了解吗？</li>
<li>优化算法了解吗？拟牛顿牛顿区别？adam？rmsprop？momentum?</li>
<li>DeepFM? Deep &amp; wide?看过哪些数据挖掘书？论文？</li>
<li>GBDT+LR有用吗？叶子节点编号有用吗？cvr弱特征要one-hot编码吗？</li>
<li>比赛名次为何这么低？这几个特征提升了多少？</li>
<li>FFM?FM?了解吗？</li>
</ol>
<h5 id="经验总结-4"><a href="#经验总结-4" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>从一开始到最后，一直对比赛名次一顿怼，各种抓着某个弱一点的特征说没用，我讲算法思路面试官一直说我没说清楚。</li>
<li>回答各种都不太满意，数学原理感觉都不了解？前沿论文没看看？</li>
<li>两个面试官声音一直很低，交流我都凑着耳朵反复问。</li>
<li>然而很痛快的给了offer。</li>
<li>(很久以后的一个总结)虽然当时面试官对我一顿怼，面试体验很不好，但是这次面试可能对我提出建议最中肯最有用的一次面试，引导我多看weinan zhang的研究还有最新的一些研究进展，长远来看对我影响很深远。而且一面面试官follow我之前leader的博客这个让我很惊讶，应该是很深入的在做一些机器学习的应用。</li>
</ol>
<hr>
<h2 id="360"><a href="#360" class="headerlink" title="360"></a>360</h2><p>岗位：算法实习生 （点睛 广告部门）<br>持续时间：3面技术面+第一个技术面面试官意向面</p>
<ol>
<li>[手写代码]堆排序</li>
<li>[手写代码]快排</li>
<li>[手写代码]编辑距离</li>
<li>比较svm和lr，两个的损失函数？为啥是hinge loss</li>
<li>[手写代码]链表倒数k个节点 时间O(n) 空间O(1)</li>
<li>svm防止过拟合方法？</li>
<li>one-hot维度太长如何维度截断？</li>
<li>ac自动机？正则表达式是通过什么实现的？</li>
<li>有10W个数据，数据服从一定分布，如何采样100个（要求无偏采样）</li>
<li>[手写代码]给定一个数组，刚开始位于0，数组下标志为i代表在最多可以跳nums[i]步, 问能否到终点？到终点最少需要几步？</li>
<li>c++ 内存模型了解吗？</li>
<li>PCA数学原理？</li>
</ol>
<h5 id="经验总结-5"><a href="#经验总结-5" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>整体比较常规，一面面试官语速很快。二面面试官问的都不是机器学习相关。</li>
<li>面试官说 搜索和广告路宽，推荐路子很窄</li>
</ol>
<hr>
<h2 id="助理来也"><a href="#助理来也" class="headerlink" title="助理来也"></a>助理来也</h2><p>岗位：NLP算法实习生<br>持续时间: 2面技术面，6:10左右结束</p>
<h5 id="问题总结-5"><a href="#问题总结-5" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>lr原理？lr要不要归一化？不归一化得到的w有没有意义？什么模型需要归一化？</li>
<li>[手写代码]现在有一堆ip地址,对应一些城市，ip地址都有对应范围，但是中间都有缺失,如何最快的查询某个ip地址对应城市</li>
<li>lr和svm区别</li>
<li>对话机器人中意图识别的意图是怎么定义的？意图和slot的关系是什么？slot是无限生成的？有没有优化slot的方法？知识图谱能帮助扩展slot吗？</li>
<li>项目数据量？衡量指标？</li>
</ol>
<h5 id="经验总结-6"><a href="#经验总结-6" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>聊的最开心的一次，面试官很有诚意, 后期基本上就是憧憬对话机器人的未来. </li>
</ol>
<hr>
<h2 id="新浪"><a href="#新浪" class="headerlink" title="新浪"></a>新浪</h2><p>岗位：数据挖掘实习生<br>持续时间：1面技术面 持续1h左右</p>
<h5 id="问题总结-6"><a href="#问题总结-6" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>hadoop了解吗？mapreduce?</li>
<li>什么场景适合lr？lr原理？</li>
<li>后面基本上在介绍项目，没有明显的原理提问</li>
</ol>
<h5 id="经验总结-7"><a href="#经验总结-7" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>感觉面试官技术不是很强，没提出比较专业的问题, 不太像是做机器学习或者数据挖掘的。对方的业务做的貌似也只是在公司内。</li>
</ol>
<hr>
<h2 id="Blued"><a href="#Blued" class="headerlink" title="Blued"></a>Blued</h2><p>岗位：算法实习生 （推荐算法）<br>持续时间：1面技术面 1面hr 持续1h左右</p>
<h5 id="问题总结-7"><a href="#问题总结-7" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>介绍一下lr</li>
<li>ctr预估和cvr有什么区别</li>
<li>ctr预估常见做法</li>
<li>京东比赛用了哪些特征？为什么要用这些特征？</li>
<li>数据清洗怎么进行</li>
</ol>
<h5 id="经验总结-8"><a href="#经验总结-8" class="headerlink" title="经验总结"></a>经验总结</h5><ol>
<li>面试官北邮phd，感觉实力也很水，hr诚意很足</li>
<li>待遇很有诚意。</li>
</ol>
<hr>
<h2 id="阿里巴巴"><a href="#阿里巴巴" class="headerlink" title="阿里巴巴"></a>阿里巴巴</h2><p>岗位：算法实习生（阿里妈妈)<br>持续时间：<br>1面电话面 持续1h7min加上写二分查找<br>2面现场面持续到11:18<br>3面现场面11:40左右开始, 1:10左右面试完<br>4面电话面 持续38min26s<br>5面电话面 持续1h47s<br>hr电话面持续 持续36min17s</p>
<h5 id="1面问题总结"><a href="#1面问题总结" class="headerlink" title="1面问题总结"></a>1面问题总结</h5><ol>
<li>C++面向对象机制</li>
<li>C++和Java的区别</li>
<li>Python迭代器?</li>
<li>Python xrange和range有什么区别</li>
<li>Python tuple和list有什么区别</li>
<li>python为什么不推荐for循环</li>
<li>无序数组中的中位数？最优复杂度？我说了大顶+小顶，面试官还要继续优化</li>
<li>l1和l2norm区别</li>
<li>GDBT原理? xgb原理？</li>
<li>京东比赛转化率有没有平滑？要不要平滑？</li>
<li>京东比赛为什么要user模型，只是用user-item模型不行吗？这样会损失很多信息不是吗？</li>
<li>xgb如何对离散特征处理？如何对连续特征处理？</li>
<li>lr损失函数？能不能是均方误差？</li>
<li>[手写代码]直接打开链接,写二分查找</li>
<li>快排时间复杂度，堆排序时间复杂度，所以快排和堆排哪个好?</li>
</ol>
<h5 id="1面经验总结"><a href="#1面经验总结" class="headerlink" title="1面经验总结"></a>1面经验总结</h5><ol>
<li>面试官电话面试中对项目问的特别深入。一直在纠结京东项目里面的ui模型和user模型的细节。反复问为什么一定要有个user模型。</li>
<li>手写二分的时候，一紧张忘了判断数组为空了。后面加上了。</li>
<li>对编程语言实现原理不够熟悉。尤其是三个一起问。</li>
</ol>
<h5 id="2-3面问题总结"><a href="#2-3面问题总结" class="headerlink" title="2. 3面问题总结"></a>2. 3面问题总结</h5><ol>
<li>lstm了解吗？lstm门控了解吗？每个门干什么的？</li>
<li>lr为什么要对连续特征离散化并进行交叉？回答了一些。但是面试官希望听到：引入非线性。</li>
<li>模型融合常见的方法有哪些？你用过哪些？提升了多少？</li>
<li>开放问题。做一个商品对商品的推荐，不能基于任何历史记录，现在淘宝商品数据量超大，请问怎么做？</li>
<li>开放问题。我现在有个新的模块上线，要求做商品推荐，也是不能任何历史记录，怎么做？我问是处理冷启动问题吗？她说不是。感觉没太理解这种场景是什么。。</li>
<li>模型融合方法，有没有参数化的模型融合？（说我说的都是非参数化的）后来我说了GBDT+LR这种，面试官嗯了一下不确定对不对。</li>
<li>近期机器学习论文了解过吗？</li>
<li>lr归一化怎么做？</li>
<li>蚂蚁项目为什么要二分类？</li>
<li>本科做过学生干部或者社团干部吗？主要的收获是啥？</li>
<li>喜欢什么运动？我回答足球？他说只有足球？我说羽毛球每周一次然后又选修学了网球。</li>
<li>给定一个4G内存的笔记本，2T硬盘，求一个淘宝Topk词问题</li>
<li>上一个面试表现如何？</li>
<li>深度学习和机器学习比较？深度学习从本质上和传统的机器学习有什么区别？</li>
<li>算法工程师的工作方式的改变你怎么看？传统算法需要提取特征，现在似乎偏向于调整模型结构？如何看待？</li>
<li>神经网络如何防止过拟合？深度神经网络如何防止过拟合?</li>
<li>CNN的结构？pooling层作用？不用这个能行吗？</li>
<li>拿了几个offer？</li>
<li>腾讯微信和阿里妈妈怎么选？</li>
<li>城市怎么选？</li>
<li>对薪资待遇怎么看？</li>
<li>简历里面为何不写你发表的论文？</li>
</ol>
<h5 id="2-3面经验总结"><a href="#2-3面经验总结" class="headerlink" title="2-3面经验总结"></a>2-3面经验总结</h5><ol>
<li>二面完全没问算法，但是广度和深度都有，开放性问题没思路。</li>
<li>三面考察特别全面，从海量数据处理 -&gt; 深度学习的理解 -&gt; 工作性质的理解 -&gt; 做人的思考和收获 -&gt; 生活爱好。</li>
<li>总体来讲阿里的面试官感觉水平较高，对人的考察全面。</li>
<li>阿里办公环境整洁。可能是最整洁的面试环境。</li>
<li>在阿里吃外卖似乎很多，临走之前一堆送外卖的在楼下。</li>
<li>阿里妈妈似乎很看中写论文经验。</li>
</ol>
<h5 id="4面问题总结"><a href="#4面问题总结" class="headerlink" title="4面问题总结"></a>4面问题总结</h5><ol>
<li>lr和ffm的比较? fm的优势在那？lr相对于ffm的特点在哪？</li>
<li>链表排序的思路？</li>
<li>快排相对于归并排序的优点？</li>
<li>优化算法了解吗？牛顿法和梯度下降的区别？牛顿法的缺点？针对这个缺点有什么改进？</li>
<li>lr的优点是什么？为什么能处理海量稀疏特征？</li>
<li>蚂蚁金服项目中多分类和二分类的比较，二分类为什么优于多分类？</li>
<li>实验室做过什么项目？聊一下实验室项目？</li>
<li>为什么要做广告相关算法？</li>
</ol>
<h5 id="4面经验总结"><a href="#4面经验总结" class="headerlink" title="4面经验总结"></a>4面经验总结</h5><ol>
<li>问题比较常规，对项目的细节反复询问为什么这么做。模型原理回答的还算流畅，快排相对于归并的优点需要深入看一下。</li>
</ol>
<h5 id="5面问题总结"><a href="#5面问题总结" class="headerlink" title="5面问题总结"></a>5面问题总结</h5><ol>
<li>讲一下蚂蚁项目</li>
<li>使用KNN模型，如何评价特征的重要性排序？</li>
<li>xgb和lgb的区别？</li>
<li>xgb的损失函数?</li>
<li>实验室做过什么项目？</li>
<li>实验室写过哪些论文？发表在哪？创新点？实验做了哪些？</li>
<li>比赛为什么用集成树模型不用SVM？</li>
</ol>
<h5 id="5面经验总结"><a href="#5面经验总结" class="headerlink" title="5面经验总结"></a>5面经验总结</h5><ol>
<li>问题依然常规。面试官一直在听，好像一直在思考。中间插话不太多。面试官感觉很好说话。</li>
</ol>
<p>hr面</p>
<h5 id="问题总结-8"><a href="#问题总结-8" class="headerlink" title="问题总结"></a>问题总结</h5><ol>
<li>自我介绍一下？实验室的研究方向是什么？和机器学习有什么关系？</li>
<li>个人职业规划？</li>
<li>对城市有没有选择？有没有逃离北上广的想法？</li>
<li>为什么想做广告业务？</li>
<li>拿到了哪里的offer?</li>
<li>个人爱好？你是看球还是踢球？最喜欢哪个球队？为什么喜好这个球队？踢球踢的什么位置？踢这个位置你的优势是什么？(解释了很长时间)</li>
<li>前几面发挥的怎么样？哪个面试官没发挥好？</li>
<li>你的优点？你的缺点？缺点如何改进？</li>
<li>你来了这边想做哪块工作？</li>
</ol>
<h5 id="hr面经验总结"><a href="#hr面经验总结" class="headerlink" title="hr面经验总结"></a>hr面经验总结</h5><ol>
<li>问题开放性强，看中综合素质。</li>
</ol>
<hr>
<h2 id="腾讯-1"><a href="#腾讯-1" class="headerlink" title="腾讯"></a>腾讯</h2><p>岗位：算法实习生（OMG事业群, 天天快报)<br>持续时间：1面现场面 持续1h; 2面现场面找面试间用了很长时间才开始正式面试，到4:50结束</p>
<h5 id="1面问题总结-1"><a href="#1面问题总结-1" class="headerlink" title="1面问题总结"></a>1面问题总结</h5><ol>
<li>[手写代码]翻转链表</li>
<li>[手写代码]逆序对，不让用暴力, 时间复杂度？</li>
<li>[手写代码]矩阵从左上到右下最小路径和, 一个是只能往右往下，一个是四个方向都可以。</li>
<li>[手写代码]二维矩阵中查找，行和列都是天然有序, 时间复杂度？</li>
<li>lr的损失函数？损失函数怎么来的？怎么求解lr？推导怎么用梯度下降求解lr？</li>
<li>贝叶斯平滑是什么？怎么做？</li>
<li>写一下贝叶斯公式？</li>
<li>项目中bagging提升了多少?stacking提升了多少？</li>
<li>GDBT是什么？GBDT损失函数是什么？</li>
<li>如何评价数据平滑的效果</li>
</ol>
<h5 id="1面经验总结-1"><a href="#1面经验总结-1" class="headerlink" title="1面经验总结"></a>1面经验总结</h5><ol>
<li>面试官说把广告都作成美女的图片ctr就上去了，但是没有意义。(得好好思考一下这句话的意思)</li>
<li>面试官对我写的翻转链表很疑惑（我的代码异常清晰正确的情况下）反复纠结递归写法中的head-&gt;next-&gt;next = head;这句代码</li>
<li>感觉面试官没有对算法的热情，做算法都是为了产品，实习都要为产品打杂。如果作算法不是为了产品还不如去研究院。</li>
<li>银科大厦腾讯工位不错的类似计算所，但是电梯是没有用, 都在爬楼梯。</li>
</ol>
<h5 id="2面问题总结"><a href="#2面问题总结" class="headerlink" title="2面问题总结"></a>2面问题总结</h5><ol>
<li>[手写代码]估计pi的值，提示用生成随机数的方式</li>
<li>[手写代码]翻转链表</li>
<li>介绍对话机器人项目？带来了什么效果？</li>
<li>介绍蚂金服项目？</li>
</ol>
<h5 id="2面经验总结"><a href="#2面经验总结" class="headerlink" title="2面经验总结"></a>2面经验总结</h5><ol>
<li>面试官没有提出来常规机器学习问题，讲项目过程中也没什么反馈和知识点提问。</li>
<li>最后问面试官我去了做什么？他说做模型。我问做什么模型？推荐？用户兴趣预测？他说推荐。我问上次不是说ctr吗？他又改口ctr。</li>
<li>领航的工位感觉十分拥挤。比银科差了不少。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/14/2019%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" data-id="ckf9pzol90004jmdl4cqncol8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/09/14/Item-Based%20CF/">Item-Based CF</a>
          </li>
        
          <li>
            <a href="/2020/09/14/Data%20Analysis%20Tutorial%20%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%8C%87%E5%8D%97/">Data Analysis Tutorial 数据分析指南</a>
          </li>
        
          <li>
            <a href="/2020/09/14/%E7%8B%BC%E4%BA%BA%E6%9D%80,%20%E5%A6%82%E4%BD%95%E8%87%B4%E8%83%9C/">狼人杀, 如何致胜?</a>
          </li>
        
          <li>
            <a href="/2020/09/14/2019%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/">2019互联网公司实习生面试总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Gold and Rabbit<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>